import os
import pandas as pd
import struct
import numpy as np


cwd = 'D:\\010222\\'
filename = "CE-030222-3040000.bin"

# Create the full file path
file_path = os.path.join(cwd, filename)
# Opening the binary file in binary mode as rb(read binary)


# Reading file data with read() method

with open(file_path, mode="rb") as f:
    data = f.read()
    chunks = [data[i:i + 8] for i in range(0, len(data), 8)]

    numpy_array = np.array(chunks)
    numbers_array = np.array([int.from_bytes(row, byteorder='big') for row in numpy_array])

    print(numbers_array)


    # Create a DataFrame
    df = pd.DataFrame(numbers_array, columns=['timestamp', 'LTP', 'OI'])

    #df.to_csv("Output.csv", index=False)
